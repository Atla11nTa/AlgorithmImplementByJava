## 计网面试题汇总

1. ###### DNS协议使用什么传输层协议，为什么？

答： DNS同时使用TCP和UDP的53端口，做单次域名解析时使用UDP协议，域名服务器之间定期同步数据时使用的TCP。为什么是这样与TCP和UDP的特性有关。UDP面向无连接，报头占用空间少（8字节），所以传输效率高，而TCP面向连接，报文头部最小20字节，还需要建立连接和断开连接，着重传输的可靠性。

域名服务器同步数据时，需要交换大量的数据，此时也不需要追求效率，所以使用TCP较好。而单次域名解析过程，一个DNS报文长度不超过512B，在传输过程中IP层不会分片，若丢包就会丢全部包，所以使用效率更高的UDP更好，若使用tcp进行传输，为了传输一个包就需要三次握手和四次挥手，速度太慢。

​                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            